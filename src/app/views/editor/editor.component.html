<div class="main-container">
    <p-button
      class="add-section-button"
      [raised]="true"
      [rounded]="true"
      [disabled]="!activeTemplate()"
      icon="mingcute--add-fill"
      [pTooltip]="activeTemplate() ? 'Create New Section' : 'Create a Template first'"
      tooltipPosition="left"
      showDelay="1000"
      hideDelay="300"
      (onClick)="addNewSection()"
    >
    </p-button>
  
    <div class="searchbar-container">
      <p-checkbox
        [formControl]="selectAllFormControl"
        [binary]="true"
        pTooltip="Select All Sections"
        tooltipPosition="bottom"
        showDelay="1000"
        hideDelay="300"
      />
      <p-iconField iconPosition="left">
        <p-inputIcon>
          <svg
            width="14"
            height="14"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g
              id="SVGRepo_tracerCarrier"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></g>
            <g id="SVGRepo_iconCarrier">
              <g id="Interface / Filter">
                <path
                  id="Vector"
                  d="M20 5.6001C20 5.04005 19.9996 4.75981 19.8906 4.5459C19.7948 4.35774 19.6423 4.20487 19.4542 4.10899C19.2403 4 18.9597 4 18.3996 4H5.59961C5.03956 4 4.75981 4 4.5459 4.10899C4.35774 4.20487 4.20487 4.35774 4.10899 4.5459C4 4.75981 4 5.04005 4 5.6001V6.33736C4 6.58195 4 6.70433 4.02763 6.81942C4.05213 6.92146 4.09263 7.01893 4.14746 7.1084C4.20928 7.20928 4.29591 7.29591 4.46875 7.46875L9.53149 12.5315C9.70443 12.7044 9.79044 12.7904 9.85228 12.8914C9.90711 12.9808 9.94816 13.0786 9.97266 13.1807C10 13.2946 10 13.4155 10 13.6552V18.411C10 19.2682 10 19.6971 10.1805 19.9552C10.3382 20.1806 10.5814 20.331 10.8535 20.3712C11.1651 20.4172 11.5487 20.2257 12.3154 19.8424L13.1154 19.4424C13.4365 19.2819 13.5966 19.2013 13.7139 19.0815C13.8176 18.9756 13.897 18.8485 13.9453 18.7084C14 18.5499 14 18.37 14 18.011V13.6626C14 13.418 14 13.2958 14.0276 13.1807C14.0521 13.0786 14.0926 12.9808 14.1475 12.8914C14.2089 12.7911 14.2947 12.7053 14.4653 12.5347L14.4688 12.5315L19.5315 7.46875C19.7044 7.2958 19.7904 7.20932 19.8523 7.1084C19.9071 7.01893 19.9482 6.92146 19.9727 6.81942C20 6.70551 20 6.58444 20 6.3448V5.6001Z"
                  stroke="var(--text-color-secondary)"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                ></path>
              </g>
            </g>
          </svg>
        </p-inputIcon>
        <input
          type="text"
          ncInputContextmenu
          autocomplete="off"
          [formControl]="filterFormControl"
          pInputText
          placeholder="Filter"
          pTooltip="Filter Sections"
          tooltipPosition="bottom"
          showDelay="1000"
          hideDelay="300"
        />
      </p-iconField>
    </div>
  
    @if (sections().length > 0) {
  
      <div
        class="sections-container"
        cdkDropList
        (cdkDropListDropped)="sectionDrop($event)"
        cdkDropListOrientation="mixed"
      >
        @for (section of visibleSections(); track section.id) {
        <nc-section
          class="section-item-container"
          [section]="section"
          [linkedSectionsEnabled]="linkedSectionsEnabled()"
          [sectionsFilter]="sectionsFilter()"
          [visibleLinkedSections]="visibleLinkedSections()"
          (onSectionUpdate)="sectionUpdate($event)"
          (onSectionDelete)="sectionDeleteDialog($event)"
          (onSectionEditDialog)="sectionEditDialog($event)"
          (onCreateLinkedSection)="createLinkedSection($event)"
          (onDuplicateSection)="duplicateSection($event)"
          (mouseEnter)="onSectionHover($event)"
          (mouseLeave)="onSectionLeave($event)"
          cdkDrag
          [cdkDragDisabled]="!!sectionsFilter()"
          cdkDragBoundary=".sections-container"
        >
          <div class="custom-placeholder" *cdkDragPlaceholder></div>
        </nc-section>
        }
    
        
    
      </div>
    } @else {
      <div class="call-to-action-container">
        @if (theme().theme == "dark") {
    
        <svg
          height="100px"
          width="100px"
          version="1.1"
          id="_x34_"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 512 512"
          xml:space="preserve"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <g>
              <path
                style="fill: #f5f2d8"
                d="M127.466,418.777c-0.534,0.534-0.992,0.993-1.373,1.527c-2.67,2.822-4.882,5.872-6.789,9.001 c-11.9,19.985-11.976,45.387-11.976,45.998c0,0-59.576,15.562-86.732,27.995c-5.492,2.518-9.612,4.881-11.747,6.941l9.382-9.306 l36.386-36.463c3.204,0.458,6.484-0.534,9.001-2.974c2.136-2.136,3.127-5.036,2.975-7.857c0.076-0.534,0-1.067-0.153-1.602 c0-0.076,0-0.076,0-0.076c-0.229-1.222-0.687-2.365-1.449-3.434c-0.305-0.609-0.687-1.143-1.144-1.676 c-0.076-0.078-0.152-0.153-0.229-0.231c-4.119-4.118-10.832-4.118-14.951,0c-2.441,2.442-3.433,5.799-2.975,9.003L0,501.314 c2.06-2.06,4.424-6.179,6.942-11.671c12.281-27.08,27.919-86.733,27.919-86.733s25.783,0,45.998-12.051 c3.28-1.907,6.331-4.12,9.154-6.714c0.458-0.458,0.991-0.914,1.449-1.373c3.356,3.356,18.002,18.003,18.002,18.003 s0.076,0.075,0.229,0.227C111.523,402.835,124.262,415.573,127.466,418.777z"
              ></path>
              <path
                style="opacity: 0.2; fill: #040000"
                d="M127.466,418.777c-0.534,0.534-0.992,0.993-1.373,1.527 c-2.67,2.822-4.882,5.872-6.789,9.001l-18.918-18.919l-19.528-19.527c3.28-1.907,6.331-4.12,9.154-6.714 c0.458-0.458,0.991-0.914,1.449-1.373c3.356,3.356,18.002,18.003,18.002,18.003s0.076,0.075,0.229,0.227 C111.523,402.835,124.262,415.573,127.466,418.777z"
              ></path>
              <path
                style="fill: #526574"
                d="M366.684,208.318l-64.686,64.686l-2.67,2.669L153.402,421.6c-7.17,7.17-18.842,7.17-26.012,0 l-37.073-37.074c-0.153-0.153-0.229-0.229-0.305-0.382c-6.866-7.17-6.713-18.536,0.305-25.63l138.222-138.146l7.704-7.781h0.076 l67.28-67.281l30.894,30.896L366.684,208.318z"
              ></path>
              <rect
                x="257.884"
                y="202.119"
                transform="matrix(0.7071 -0.7071 0.7071 0.7071 -96.7605 259.8082)"
                style="opacity: 0.2; fill: #040000"
                width="14.709"
                height="89.172"
              ></rect>
              <path
                style="fill: #526574"
                d="M512,54.228c0,13.884-5.339,27.767-15.943,38.293l-19.299,19.376l-19.986,19.91L306.193,282.463 l-6.865-6.79l-32.115-32.19l-30.894-30.894h-0.076l-6.789-6.788L380.11,55.144l19.986-19.91l19.299-19.374 C434.422,0.831,456.01-3.515,474.851,2.815c7.552,2.442,14.57,6.561,20.596,12.435c0.229,0.229,0.458,0.38,0.61,0.611 c6.179,6.177,10.603,13.502,13.197,21.357C511.085,42.711,512,48.507,512,54.228z"
              ></path>
              <polygon
                style="fill: #ef8d8c"
                points="476.758,111.897 456.772,131.807 417.869,92.903 374.389,49.423 373.321,48.354 393.23,28.37 "
              ></polygon>
              <path
                style="opacity: 0.08; fill: #040000"
                d="M511.976,54.206c0.007-13.879-5.297-27.763-15.886-38.353 c-0.208-0.208-0.437-0.381-0.648-0.585L63.807,446.903c3.861,4.131,3.798,10.588-0.225,14.611 c-2.451,2.451-5.799,3.445-8.971,2.977L8.868,510.234c12.416-12.416,98.468-34.907,98.468-34.907s-0.065-25.78,12-45.997 c1.917-3.206,4.155-6.255,6.729-9.059l1.329,1.33c7.183,7.183,18.825,7.177,26.002,0l138.169-138.168l7.781-7.781l6.826,6.826 L456.807,131.84l19.93-19.93l19.352-19.352C506.679,81.969,511.976,68.091,511.976,54.206z"
              ></path>
              <path
                style="fill: #ef8d8c"
                d="M400.324,23.488l-5.95,6.025l-19.986,19.91l-67.891,67.89c-2.212,2.289-5.873,2.289-8.086,0 c-2.212-2.212-2.212-5.797,0-8.008l93.826-93.826c2.212-2.289,5.873-2.289,8.086,0C402.536,17.689,402.536,21.276,400.324,23.488z"
              ></path>
            </g>
          </g>
        </svg>
        } @else {
        <svg
          height="100px"
          width="100px"
          version="1.1"
          id="_x35_"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 512 512"
          xml:space="preserve"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <g>
              <path
                style="fill: #f5f2d8"
                d="M127.466,418.777c-0.534,0.534-0.992,0.993-1.373,1.527c-2.67,2.822-4.882,5.872-6.789,9.001 c-11.9,19.985-11.976,45.387-11.976,45.998c0,0-59.576,15.562-86.732,27.995c-5.492,2.518-9.612,4.881-11.747,6.941l9.382-9.306 l36.386-36.463c3.204,0.458,6.484-0.534,9.001-2.974c2.136-2.136,3.127-5.036,2.975-7.857c0.076-0.534,0-1.067-0.153-1.602 c0-0.076,0-0.076,0-0.076c-0.229-1.222-0.687-2.365-1.449-3.434c-0.305-0.609-0.687-1.143-1.144-1.676 c-0.076-0.078-0.152-0.153-0.229-0.231c-4.119-4.118-10.832-4.118-14.951,0c-2.441,2.442-3.433,5.799-2.975,9.003L0,501.314 c2.06-2.06,4.424-6.179,6.942-11.671c12.281-27.08,27.919-86.733,27.919-86.733s25.783,0,45.998-12.051 c3.28-1.907,6.331-4.12,9.154-6.714c0.458-0.458,0.991-0.914,1.449-1.373c3.356,3.356,18.002,18.003,18.002,18.003 s0.076,0.075,0.229,0.227C111.523,402.835,124.262,415.573,127.466,418.777z"
              ></path>
              <path
                style="opacity: 0.2; fill: #040000"
                d="M127.466,418.777c-0.534,0.534-0.992,0.993-1.373,1.527 c-2.67,2.822-4.882,5.872-6.789,9.001l-18.918-18.919l-19.528-19.527c3.28-1.907,6.331-4.12,9.154-6.714 c0.458-0.458,0.991-0.914,1.449-1.373c3.356,3.356,18.002,18.003,18.002,18.003s0.076,0.075,0.229,0.227 C111.523,402.835,124.262,415.573,127.466,418.777z"
              ></path>
              <path
                style="fill: #668d95"
                d="M366.684,208.318l-64.686,64.686l-2.67,2.669L153.402,421.6c-7.17,7.17-18.842,7.17-26.012,0 l-37.073-37.074c-0.153-0.153-0.229-0.229-0.305-0.382c-6.866-7.17-6.713-18.536,0.305-25.63l138.222-138.146l7.704-7.781h0.076 l67.28-67.281l30.894,30.896L366.684,208.318z"
              ></path>
              <rect
                x="257.884"
                y="202.119"
                transform="matrix(0.7071 -0.7071 0.7071 0.7071 -96.7605 259.8082)"
                style="opacity: 0.2; fill: #040000"
                width="14.709"
                height="89.172"
              ></rect>
              <path
                style="fill: #668d95"
                d="M512,54.228c0,13.884-5.339,27.767-15.943,38.293l-19.299,19.376l-19.986,19.91L306.193,282.463 l-6.865-6.79l-32.115-32.19l-30.894-30.894h-0.076l-6.789-6.788L380.11,55.144l19.986-19.91l19.299-19.374 C434.422,0.831,456.01-3.515,474.851,2.815c7.552,2.442,14.57,6.561,20.596,12.435c0.229,0.229,0.458,0.38,0.61,0.611 c6.179,6.177,10.603,13.502,13.197,21.357C511.085,42.711,512,48.507,512,54.228z"
              ></path>
              <polygon
                style="fill: #f2dc90"
                points="476.758,111.897 456.772,131.807 417.869,92.903 374.389,49.423 373.321,48.354 393.23,28.37 "
              ></polygon>
              <path
                style="opacity: 0.08; fill: #040000"
                d="M511.976,54.206c0.007-13.879-5.297-27.763-15.886-38.353 c-0.208-0.208-0.437-0.381-0.648-0.585L63.807,446.903c3.861,4.131,3.798,10.588-0.225,14.611 c-2.451,2.451-5.799,3.445-8.971,2.977L8.868,510.234c12.416-12.416,98.468-34.907,98.468-34.907s-0.065-25.78,12-45.997 c1.917-3.206,4.155-6.255,6.729-9.059l1.329,1.33c7.183,7.183,18.825,7.177,26.002,0l138.169-138.168l7.781-7.781l6.826,6.826 L456.807,131.84l19.93-19.93l19.352-19.352C506.679,81.969,511.976,68.091,511.976,54.206z"
              ></path>
              <path
                style="fill: #f2dc90"
                d="M400.324,23.488l-5.95,6.025l-19.986,19.91l-67.891,67.89c-2.212,2.289-5.873,2.289-8.086,0 c-2.212-2.212-2.212-5.797,0-8.008l93.826-93.826c2.212-2.289,5.873-2.289,8.086,0C402.536,17.689,402.536,21.276,400.324,23.488z"
              ></path>
            </g>
          </g>
        </svg>
        }
        <span>
          <span>
            Get started by creating your first <b>section!</b>
          </span>
          <br/>
          <span style="font-size:small; font-style: italic;">
            Add sections to customize and automate your text effortlessly
          </span>
        </span>
        <p-button severity="secondary" [outlined]="true" (onClick)="openYoutube()">
          <div class="button-content-container">
            <span class="logos--youtube-icon"></span>
            <span>Tutorial</span>
          </div>
        </p-button>
      </div>
    }
  
  
  
  </div>
  <nc-output-actions style="z-index: 3; position: relative;" [output]="output()" [previewVisible]="previewVisible()" (previewToggle)="togglePreview()"/>
  